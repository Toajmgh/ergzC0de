title: 面试官：每次你可以爬1或者2个台阶，爬到第n级台阶有多少种方法
author: ergz
tags:
  - Java
  - 面试题
categories:
  - 搞定Java面试题
date: 2019-01-29 15:38:00
---
### 介绍
这是leeCode的第70题

**题目描述**

假设你正在爬楼梯。需要n阶你才能到达楼顶。

每次你可以爬1或者2个台阶。你有多少种不同的方法可以爬到楼顶呢？

注意：给定n是一个正整数。

示例1：

	输入：2
	输出：2
	解释：有两种方法可以爬到楼顶。
	1.1阶 + 1阶
	2.2阶

<!--more-->

示例2：
	输入：3
	输出：3
解释：有三种方法可以爬到楼顶。

	1.1阶 + 1阶 + 1阶
	2.1阶 + 2阶
	3.2阶 + 1阶

### 思路分析

这是一个简单的递推题目，搞懂了其实就是一个斐波那契数列。你想的没错，就是你开始学编程时，那个兔子繁殖的问题。

如果一开始有一对兔子，他们每月生育一对兔子，小兔出生后一个月又开始生育繁殖的情况与最初的那对兔子一样，那么一年后有多少对兔子呢？

答案是，每月兔子的总数可以用一下数列表示：1，1，2，3，5，8，13，21，34，55，89，144，233...

来想一下，第n阶台阶可以从那一节上爬上来?只能是n-1和n-2啊，所以我们就能得到递推公式
f(n)=f(n-1)+f(n-2),f(n)表示到n阶台阶方法数，这不就是典型的斐波那契数列吗？有意思的是斐波那契数列有很多种实现方法，看来一一道来。

**第一种：递归**

递归出口是当n=1的值为1，当n=2时值为2

	class solution{
		public int climbStairs(int n){
			if(n==1||n==2)
				return n;
		}
		return climbStairs(n-1)+climbStairs(n-2);
	}

这种代码在Leecode上会超时，因为递归比较耗时和耗内存。面试的时候也不要回答这种方法。

**第二种：递推**
当n=1值为1，当n=2时值为2

当n>=3的递推公式是f(n)=f(n-1)+f(n-2)

	public class solution{
		public int climbStairs(int n){
			if(n==1)
				return 1;
		}
		int[] f = new int[n+1];
		f[1]=1;
		f[2]=2;
		for (int i = 3; i <= n; i++) {
            f[i] = f[i-2] + f[i-1];
		}
		return f[n];
	}

一般回答这种方式即可，时间复杂度为O(n)

**第三种 通向公式**

很多人其实并不知道有通向公式，通向公式如下

![](http://cdn.ergzcode.com/b/wS5voBM.jpg)

递推过程就不分析了，写这种算法是因为你可以和面试官说一波，因为很多面试官其实也不知道这种方法

	
	public static int climbStaris1(int n){

        double sqrt5=Math.sqrt(5);
        double fibn=Math.pow((1+sqrt5)/2,n+1)-Math.pow((1-sqrt5)/2,n+1);
        return (int) (fibn/sqrt5);
    }

    public static void main(String[] args) {
        System.out.println(climbStaris1(4));
    }

**矩阵快速幂**

这种算法用了矩阵乘法的思想，因为要讲清楚还得复习一遍高等数学的矩阵乘法，面试也很少写这种算法，就不再解释了，有兴趣的可以找相关的资料来看，面试中一般用递推打出来就行。面大厂的可以看一波这个算法，偶尔会问的深一点。

**本文链接：[面试官：每次你可以爬1或者2个台阶，爬到第n级台阶有多少种方法]()
欢迎转载，请注明出处！**